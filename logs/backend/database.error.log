{"timestamp": "2026-01-14T19:05:56.193496Z", "level": "ERROR", "logger": "database", "message": "Error loading seed data: (psycopg2.errors.UndefinedColumn) column users.password_hash does not exist\nLINE 2: ...ers.name AS users_name, users.city AS users_city, users.pass...\n                                                             ^\n\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT users.user_id AS users_user_id, users.name AS users_name, users.city AS users_city, users.password_hash AS users_password_hash, users.role AS users_role \nFROM users) AS anon_1]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "main", "function": "load_seed_data", "line": 147, "exception": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedColumn: column users.password_hash does not exist\nLINE 2: ...ers.name AS users_name, users.city AS users_city, users.pass...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/main.py\", line 57, in load_seed_data\n    if db.query(User).count() > 0:\n       ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 3132, in count\n    self._legacy_from_self(col).enable_eagerloads(False).scalar()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2825, in scalar\n    ret = self.one()\n          ^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2798, in one\n    return self._iter().one()  # type: ignore\n           ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n             ^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column users.password_hash does not exist\nLINE 2: ...ers.name AS users_name, users.city AS users_city, users.pass...\n                                                             ^\n\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT users.user_id AS users_user_id, users.name AS users_name, users.city AS users_city, users.password_hash AS users_password_hash, users.role AS users_role \nFROM users) AS anon_1]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2026-01-14T19:06:18.219903Z", "level": "ERROR", "logger": "database", "message": "Error loading seed data: (psycopg2.errors.UndefinedColumn) column users.password_hash does not exist\nLINE 2: ...ers.name AS users_name, users.city AS users_city, users.pass...\n                                                             ^\n\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT users.user_id AS users_user_id, users.name AS users_name, users.city AS users_city, users.password_hash AS users_password_hash, users.role AS users_role \nFROM users) AS anon_1]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "main", "function": "load_seed_data", "line": 147, "exception": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedColumn: column users.password_hash does not exist\nLINE 2: ...ers.name AS users_name, users.city AS users_city, users.pass...\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/main.py\", line 57, in load_seed_data\n    if db.query(User).count() > 0:\n       ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 3132, in count\n    self._legacy_from_self(col).enable_eagerloads(False).scalar()\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2825, in scalar\n    ret = self.one()\n          ^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2798, in one\n    return self._iter().one()  # type: ignore\n           ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2847, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2308, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2190, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 293, in orm_execute_statement\n    result = conn.execute(\n             ^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 517, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1639, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1848, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1988, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2344, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1969, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 922, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column users.password_hash does not exist\nLINE 2: ...ers.name AS users_name, users.city AS users_city, users.pass...\n                                                             ^\n\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT users.user_id AS users_user_id, users.name AS users_name, users.city AS users_city, users.password_hash AS users_password_hash, users.role AS users_role \nFROM users) AS anon_1]\n(Background on this error at: https://sqlalche.me/e/20/f405)"}
{"timestamp": "2026-01-14T19:09:10.063778Z", "level": "ERROR", "logger": "database", "message": "Error loading seed data: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])", "module": "main", "function": "load_seed_data", "line": 154, "exception": "Traceback (most recent call last):\n  File \"/app/main.py\", line 86, in load_seed_data\n    password_hash=get_password_hash(row.get(\"password\", \"user123\")),\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/auth.py\", line 31, in get_password_hash\n    return pwd_context.hash(password)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/passlib/context.py\", line 2258, in hash\n    return record.hash(secret, **kwds)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/passlib/utils/handlers.py\", line 779, in hash\n    self.checksum = self._calc_checksum(secret)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/passlib/handlers/bcrypt.py\", line 591, in _calc_checksum\n    self._stub_requires_backend()\n  File \"/usr/local/lib/python3.11/site-packages/passlib/utils/handlers.py\", line 2254, in _stub_requires_backend\n    cls.set_backend()\n  File \"/usr/local/lib/python3.11/site-packages/passlib/utils/handlers.py\", line 2156, in set_backend\n    return owner.set_backend(name, dryrun=dryrun)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/passlib/utils/handlers.py\", line 2163, in set_backend\n    return cls.set_backend(name, dryrun=dryrun)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/passlib/utils/handlers.py\", line 2188, in set_backend\n    cls._set_backend(name, dryrun)\n  File \"/usr/local/lib/python3.11/site-packages/passlib/utils/handlers.py\", line 2311, in _set_backend\n    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)\n  File \"/usr/local/lib/python3.11/site-packages/passlib/utils/handlers.py\", line 2224, in _set_backend\n    ok = loader(**kwds)\n         ^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/passlib/handlers/bcrypt.py\", line 626, in _load_backend_mixin\n    return mixin_cls._finalize_backend_mixin(name, dryrun)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/passlib/handlers/bcrypt.py\", line 421, in _finalize_backend_mixin\n    if detect_wrap_bug(IDENT_2A):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/passlib/handlers/bcrypt.py\", line 380, in detect_wrap_bug\n    if verify(secret, bug_hash):\n       ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/passlib/utils/handlers.py\", line 792, in verify\n    return consteq(self._calc_checksum(secret), chk)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/passlib/handlers/bcrypt.py\", line 655, in _calc_checksum\n    hash = _bcrypt.hashpw(secret, config)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])"}
